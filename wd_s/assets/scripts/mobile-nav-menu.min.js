window.wdsMobileNav={},function(window,$,app){app.init=function(){app.cache(),app.meetsRequirements()&&app.bindEvents()},app.cache=function(){app.$c={window:$(window),body:$("body"),mobileNavMenuContainer:$(".mobile-nav-menu"),menuItemCount:$(".mobile-nav-menu .mobile-nav > li").length}},app.bindEvents=function(){app.$c.menuItemCount<=5||(app.replaceLastMenuItem(),app.$c.body.on("click",".mobile-menu-more-link",app.displayMoreItems),app.$c.body.on("click",".mobile-nav-menu .menu-item-has-children > a",app.setSecondClick),app.$c.body.on("click",".close-mobile-menu",app.hideMoreItems))},app.meetsRequirements=function(){return app.$c.mobileNavMenuContainer.length},app.replaceLastMenuItem=function(){$(".mobile-nav-menu .mobile-nav > li:nth-child(4)").after('<li class="mobile-menu-more-link"><a href="#"><span><i class="more-icon"></i>More</span></a></li>');var boundary=$(".mobile-nav-menu .mobile-nav > li:nth-child(6)");$('<ul class="menu mobile-nav-menu-hidden">').insertAfter(boundary.parent()).append(boundary.nextAll().andSelf())},app.displayMoreItems=function(event){return event.preventDefault(),app.$c.body.hasClass("mobile-menu-more")&&!app.$c.body.hasClass("sub-menu-more")?void app.removeMenuClasses():(app.removeMenuClasses(),app.$c.mobileNavMenuContainer.toggleClass("more"),void app.$c.body.toggleClass("mobile-menu-more"))},app.setSecondClick=function(event){$(this).parent("li").hasClass("visible")||event.preventDefault(),app.removeMenuClasses(),$(this).parent("li").toggleClass("visible"),app.$c.mobileNavMenuContainer.toggleClass("more"),app.$c.body.toggleClass("mobile-menu-more sub-menu-more")},app.hideMoreItems=function(){app.removeMenuClasses()},app.removeMenuClasses=function(){app.$c.body.removeClass("mobile-menu-more sub-menu-more"),app.$c.mobileNavMenuContainer.removeClass("more"),$(".menu-item-has-children").removeClass("visible")},$(app.init)}(window,jQuery,window.wdsMobileNav);